
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EXAMPLES - TaroViz文档</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    pre { 
      background: #f6f8fa;
      padding: 16px;
      overflow: auto;
      border-radius: 5px;
    }
    code { 
      font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
      background: #f6f8fa;
      padding: 2px 4px;
      border-radius: 3px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #f8f9fa;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 24px;
      margin-bottom: 16px;
      font-weight: 600;
      color: #0d47a1;
    }
    a {
      color: #0366d6;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .nav {
      background: #f8f9fa;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .nav a {
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="nav">
    <a href="../index.html">首页</a>
    <a href="../USAGE.html">使用指南</a>
    <a href="../API.html">API文档</a>
    <a href="../EXAMPLES.html">示例</a>
    <a href="../DEVELOPMENT.html">开发指南</a>
  </div>
  
  <div class="content">
<h1>TaroViz 示例库</h1>
<p>本文档收集了 TaroViz 的各种实用示例，帮助您快速掌握各种图表类型的使用方法。</p>
<h2>基础图表</h2>
<h3>折线图</h3>
<pre><code class="language-jsx">import { LineChart } from &#39;@taroviz/components&#39;;

// 基础折线图
function BasicLine() {
  const data = {
    labels: [&#39;周一&#39;, &#39;周二&#39;, &#39;周三&#39;, &#39;周四&#39;, &#39;周五&#39;, &#39;周六&#39;, &#39;周日&#39;],
    datasets: [
      {
        label: &#39;访问量&#39;,
        data: [820, 932, 901, 934, 1290, 1330, 1320],
        borderColor: &#39;#5ab1ef&#39;,
        backgroundColor: &#39;rgba(90, 177, 239, 0.2)&#39;,
      }
    ]
  };
  
  return &lt;LineChart data={data} /&gt;;
}

// 多条线折线图
function MultiLine() {
  const data = {
    labels: [&#39;周一&#39;, &#39;周二&#39;, &#39;周三&#39;, &#39;周四&#39;, &#39;周五&#39;, &#39;周六&#39;, &#39;周日&#39;],
    datasets: [
      {
        label: &#39;访问量&#39;,
        data: [820, 932, 901, 934, 1290, 1330, 1320],
        borderColor: &#39;#5ab1ef&#39;,
      },
      {
        label: &#39;订单量&#39;,
        data: [320, 332, 301, 334, 390, 330, 320],
        borderColor: &#39;#f35f7f&#39;,
      }
    ]
  };
  
  return &lt;LineChart data={data} /&gt;;
}

// 面积图
function AreaChart() {
  const data = {
    labels: [&#39;周一&#39;, &#39;周二&#39;, &#39;周三&#39;, &#39;周四&#39;, &#39;周五&#39;, &#39;周六&#39;, &#39;周日&#39;],
    datasets: [
      {
        label: &#39;访问量&#39;,
        data: [820, 932, 901, 934, 1290, 1330, 1320],
        borderColor: &#39;#5ab1ef&#39;,
        backgroundColor: &#39;rgba(90, 177, 239, 0.5)&#39;,
        fill: true
      }
    ]
  };
  
  return &lt;LineChart data={data} /&gt;;
}
</code></pre>
<h3>柱状图</h3>
<pre><code class="language-jsx">import { BarChart } from &#39;@taroviz/components&#39;;

// 基础柱状图
function BasicBar() {
  const data = {
    labels: [&#39;一月&#39;, &#39;二月&#39;, &#39;三月&#39;, &#39;四月&#39;, &#39;五月&#39;],
    datasets: [
      {
        label: &#39;销售额&#39;,
        data: [50, 25, 40, 30, 60],
        backgroundColor: &#39;#36a2eb&#39;
      }
    ]
  };
  
  return &lt;BarChart data={data} /&gt;;
}

// 横向柱状图
function HorizontalBar() {
  const data = {
    labels: [&#39;一月&#39;, &#39;二月&#39;, &#39;三月&#39;, &#39;四月&#39;, &#39;五月&#39;],
    datasets: [
      {
        label: &#39;销售额&#39;,
        data: [50, 25, 40, 30, 60],
        backgroundColor: &#39;#36a2eb&#39;
      }
    ]
  };
  
  const options = {
    indexAxis: &#39;y&#39; // 设置为水平方向
  };
  
  return &lt;BarChart data={data} options={options} /&gt;;
}

// 堆叠柱状图
function StackedBar() {
  const data = {
    labels: [&#39;一月&#39;, &#39;二月&#39;, &#39;三月&#39;, &#39;四月&#39;, &#39;五月&#39;],
    datasets: [
      {
        label: &#39;线上销售&#39;,
        data: [50, 25, 40, 30, 60],
        backgroundColor: &#39;#36a2eb&#39;
      },
      {
        label: &#39;线下销售&#39;,
        data: [30, 20, 25, 35, 40],
        backgroundColor: &#39;#ff6384&#39;
      }
    ]
  };
  
  const options = {
    scales: {
      x: {
        stacked: true
      },
      y: {
        stacked: true
      }
    }
  };
  
  return &lt;BarChart data={data} options={options} /&gt;;
}
</code></pre>
<h3>饼图</h3>
<pre><code class="language-jsx">import { PieChart } from &#39;@taroviz/components&#39;;

// 基础饼图
function BasicPie() {
  const data = {
    labels: [&#39;线上&#39;, &#39;线下&#39;, &#39;其他&#39;],
    datasets: [
      {
        data: [300, 180, 50],
        backgroundColor: [&#39;#36a2eb&#39;, &#39;#ff6384&#39;, &#39;#ffcd56&#39;]
      }
    ]
  };
  
  return &lt;PieChart data={data} /&gt;;
}

// 环形图
function DonutChart() {
  const data = {
    labels: [&#39;线上&#39;, &#39;线下&#39;, &#39;其他&#39;],
    datasets: [
      {
        data: [300, 180, 50],
        backgroundColor: [&#39;#36a2eb&#39;, &#39;#ff6384&#39;, &#39;#ffcd56&#39;]
      }
    ]
  };
  
  const options = {
    cutout: &#39;60%&#39; // 设置环形图的内径百分比
  };
  
  return &lt;PieChart data={data} options={options} /&gt;;
}
</code></pre>
<h2>高级图表</h2>
<h3>散点图</h3>
<pre><code class="language-jsx">import { ScatterChart } from &#39;@taroviz/components&#39;;

function ScatterPlot() {
  const data = {
    datasets: [
      {
        label: &#39;分布&#39;,
        data: [
          { x: 10, y: 20 },
          { x: 15, y: 15 },
          { x: 20, y: 25 },
          { x: 25, y: 30 },
          { x: 30, y: 35 },
          { x: 35, y: 40 },
          { x: 40, y: 45 }
        ],
        backgroundColor: &#39;rgba(54, 162, 235, 0.6)&#39;
      }
    ]
  };
  
  return &lt;ScatterChart data={data} /&gt;;
}
</code></pre>
<h3>雷达图</h3>
<pre><code class="language-jsx">import { RadarChart } from &#39;@taroviz/components&#39;;

function RadarPlot() {
  const data = {
    labels: [&#39;速度&#39;, &#39;力量&#39;, &#39;防御&#39;, &#39;生命&#39;, &#39;魔法&#39;, &#39;技巧&#39;],
    datasets: [
      {
        label: &#39;角色A&#39;,
        data: [90, 70, 60, 80, 50, 85],
        backgroundColor: &#39;rgba(54, 162, 235, 0.2)&#39;,
        borderColor: &#39;rgba(54, 162, 235, 1)&#39;,
      },
      {
        label: &#39;角色B&#39;,
        data: [60, 90, 80, 65, 85, 70],
        backgroundColor: &#39;rgba(255, 99, 132, 0.2)&#39;,
        borderColor: &#39;rgba(255, 99, 132, 1)&#39;,
      }
    ]
  };
  
  return &lt;RadarChart data={data} /&gt;;
}
</code></pre>
<h3>混合图表</h3>
<pre><code class="language-jsx">import { MixedChart } from &#39;@taroviz/components&#39;;

function MixedChartExample() {
  const data = {
    labels: [&#39;1月&#39;, &#39;2月&#39;, &#39;3月&#39;, &#39;4月&#39;, &#39;5月&#39;, &#39;6月&#39;],
    datasets: [
      {
        type: &#39;bar&#39;,
        label: &#39;销售额&#39;,
        data: [50, 60, 70, 80, 90, 100],
        backgroundColor: &#39;rgba(54, 162, 235, 0.5)&#39;
      },
      {
        type: &#39;line&#39;,
        label: &#39;同比增长&#39;,
        data: [5, 15, 10, 12, 8, 10],
        borderColor: &#39;rgba(255, 99, 132, 1)&#39;,
        backgroundColor: &#39;rgba(255, 99, 132, 0)&#39;,
        yAxisID: &#39;y1&#39;
      }
    ]
  };
  
  const options = {
    scales: {
      y: {
        type: &#39;linear&#39;,
        display: true,
        position: &#39;left&#39;,
      },
      y1: {
        type: &#39;linear&#39;,
        display: true,
        position: &#39;right&#39;,
        grid: {
          drawOnChartArea: false
        }
      }
    }
  };
  
  return &lt;MixedChart data={data} options={options} /&gt;;
}
</code></pre>
<h2>交互示例</h2>
<h3>工具提示</h3>
<pre><code class="language-jsx">import { LineChart } from &#39;@taroviz/components&#39;;

function TooltipExample() {
  const data = {
    labels: [&#39;1月&#39;, &#39;2月&#39;, &#39;3月&#39;, &#39;4月&#39;, &#39;5月&#39;, &#39;6月&#39;],
    datasets: [
      {
        label: &#39;销售额&#39;,
        data: [50, 60, 70, 80, 90, 100],
        borderColor: &#39;rgba(54, 162, 235, 1)&#39;,
      }
    ]
  };
  
  const options = {
    plugins: {
      tooltip: {
        enabled: true,
        mode: &#39;index&#39;,
        intersect: false,
        callbacks: {
          label: function(context) {
            let label = context.dataset.label || &#39;&#39;;
            if (label) {
              label += &#39;: &#39;;
            }
            if (context.parsed.y !== null) {
              label += new Intl.NumberFormat(&#39;zh-CN&#39;, { style: &#39;currency&#39;, currency: &#39;CNY&#39; }).format(context.parsed.y);
            }
            return label;
          }
        }
      }
    }
  };
  
  return &lt;LineChart data={data} options={options} /&gt;;
}
</code></pre>
<h3>点击事件</h3>
<pre><code class="language-jsx">import React, { useState } from &#39;react&#39;;
import { View, Text } from &#39;@tarojs/components&#39;;
import { PieChart } from &#39;@taroviz/components&#39;;

function ClickableChart() {
  const [clickedSlice, setClickedSlice] = useState(null);
  
  const data = {
    labels: [&#39;线上&#39;, &#39;线下&#39;, &#39;其他&#39;],
    datasets: [
      {
        data: [300, 180, 50],
        backgroundColor: [&#39;#36a2eb&#39;, &#39;#ff6384&#39;, &#39;#ffcd56&#39;]
      }
    ]
  };
  
  const handleClick = (event, chartElements) =&gt; {
    if (chartElements.length &gt; 0) {
      const { index } = chartElements[0];
      setClickedSlice({
        label: data.labels[index],
        value: data.datasets[0].data[index]
      });
    }
  };
  
  return (
    &lt;View&gt;
      &lt;PieChart 
        data={data} 
        onTap={handleClick}
      /&gt;
      {clickedSlice &amp;&amp; (
        &lt;View style={{ marginTop: &#39;20px&#39;, textAlign: &#39;center&#39; }}&gt;
          &lt;Text&gt;您选择了: {clickedSlice.label}, 值: {clickedSlice.value}&lt;/Text&gt;
        &lt;/View&gt;
      )}
    &lt;/View&gt;
  );
}
</code></pre>
<h2>自定义图表</h2>
<h3>自定义样式</h3>
<pre><code class="language-jsx">import { BarChart } from &#39;@taroviz/components&#39;;

function CustomStyleBar() {
  const data = {
    labels: [&#39;一月&#39;, &#39;二月&#39;, &#39;三月&#39;, &#39;四月&#39;, &#39;五月&#39;],
    datasets: [
      {
        label: &#39;销售额&#39;,
        data: [50, 25, 40, 30, 60],
        backgroundColor: function(context) {
          const value = context.dataset.data[context.dataIndex];
          return value &gt; 40 ? &#39;#2ecc71&#39; : &#39;#e74c3c&#39;;
        },
        borderRadius: 8,
        borderWidth: 1,
        borderColor: &#39;#333&#39;
      }
    ]
  };
  
  const options = {
    plugins: {
      title: {
        display: true,
        text: &#39;月度销售统计&#39;,
        font: {
          size: 18,
          weight: &#39;bold&#39;
        }
      },
      legend: {
        display: true,
        position: &#39;bottom&#39;
      }
    },
    scales: {
      y: {
        beginAtZero: true,
        grid: {
          color: &#39;rgba(0, 0, 0, 0.1)&#39;
        },
        ticks: {
          font: {
            weight: &#39;bold&#39;
          }
        }
      },
      x: {
        grid: {
          display: false
        },
        ticks: {
          font: {
            weight: &#39;bold&#39;
          }
        }
      }
    }
  };
  
  return &lt;BarChart data={data} options={options} /&gt;;
}
</code></pre>
<h3>响应式设计</h3>
<pre><code class="language-jsx">import React, { useEffect, useState } from &#39;react&#39;;
import { View } from &#39;@tarojs/components&#39;;
import Taro from &#39;@tarojs/taro&#39;;
import { LineChart } from &#39;@taroviz/components&#39;;

function ResponsiveChartExample() {
  const [chartDimensions, setChartDimensions] = useState({
    width: 300,
    height: 200
  });
  
  useEffect(() =&gt; {
    const updateDimensions = async () =&gt; {
      try {
        const systemInfo = await Taro.getSystemInfo();
        const windowWidth = systemInfo.windowWidth;
        
        // 设置图表宽度为屏幕宽度的90%，高度为宽度的0.6倍（保持宽高比）
        setChartDimensions({
          width: windowWidth * 0.9,
          height: windowWidth * 0.9 * 0.6
        });
      } catch (error) {
        console.error(&#39;获取系统信息失败&#39;, error);
      }
    };
    
    updateDimensions();
    
    // 监听屏幕旋转事件（如果平台支持）
    Taro.onWindowResize &amp;&amp; Taro.onWindowResize(() =&gt; {
      updateDimensions();
    });
    
    return () =&gt; {
      Taro.offWindowResize &amp;&amp; Taro.offWindowResize();
    };
  }, []);
  
  const data = {
    labels: [&#39;一月&#39;, &#39;二月&#39;, &#39;三月&#39;, &#39;四月&#39;, &#39;五月&#39;, &#39;六月&#39;],
    datasets: [
      {
        label: &#39;销售额&#39;,
        data: [50, 60, 70, 80, 90, 100],
        borderColor: &#39;#5ab1ef&#39;,
      }
    ]
  };
  
  return (
    &lt;View style={{ display: &#39;flex&#39;, justifyContent: &#39;center&#39;, alignItems: &#39;center&#39; }}&gt;
      &lt;LineChart 
        data={data} 
        width={chartDimensions.width} 
        height={chartDimensions.height}
      /&gt;
    &lt;/View&gt;
  );
}
</code></pre>
<h2>数据可视化最佳实践</h2>
<h3>实时数据更新</h3>
<pre><code class="language-jsx">import React, { useEffect, useState } from &#39;react&#39;;
import { LineChart } from &#39;@taroviz/components&#39;;

function RealtimeChart() {
  const [data, setData] = useState({
    labels: [],
    datasets: [
      {
        label: &#39;实时数据&#39;,
        data: [],
        borderColor: &#39;#5ab1ef&#39;,
        backgroundColor: &#39;rgba(90, 177, 239, 0.2)&#39;,
        fill: true
      }
    ]
  });
  
  useEffect(() =&gt; {
    // 模拟数据源
    const initialLabels = Array.from({ length: 10 }, (_, i) =&gt; `${i + 1}s`);
    const initialData = Array.from({ length: 10 }, () =&gt; Math.floor(Math.random() * 100));
    
    setData({
      labels: initialLabels,
      datasets: [
        {
          ...data.datasets[0],
          data: initialData
        }
      ]
    });
    
    // 模拟实时数据更新
    const interval = setInterval(() =&gt; {
      setData(prevData =&gt; {
        const labels = [...prevData.labels.slice(1), `${parseInt(prevData.labels[prevData.labels.length - 1]) + 1}s`];
        const newDataPoint = Math.floor(Math.random() * 100);
        const dataPoints = [...prevData.datasets[0].data.slice(1), newDataPoint];
        
        return {
          labels,
          datasets: [
            {
              ...prevData.datasets[0],
              data: dataPoints
            }
          ]
        };
      });
    }, 1000);
    
    return () =&gt; clearInterval(interval);
  }, []);
  
  const options = {
    animation: {
      duration: 0 // 关闭动画以提高实时更新性能
    },
    scales: {
      y: {
        min: 0,
        max: 100
      }
    },
    plugins: {
      tooltip: {
        mode: &#39;nearest&#39;,
        intersect: false
      }
    }
  };
  
  return &lt;LineChart data={data} options={options} /&gt;;
}
</code></pre>
<p>更多示例请查看 <a href="https://github.com/agions/taroviz">TaroViz GitHub 仓库</a>中的示例代码。 </p>

  </div>
</body>
</html>
    