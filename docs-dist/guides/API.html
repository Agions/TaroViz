
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API - TaroViz文档</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    pre { 
      background: #f6f8fa;
      padding: 16px;
      overflow: auto;
      border-radius: 5px;
    }
    code { 
      font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
      background: #f6f8fa;
      padding: 2px 4px;
      border-radius: 3px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #f8f9fa;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 24px;
      margin-bottom: 16px;
      font-weight: 600;
      color: #0d47a1;
    }
    a {
      color: #0366d6;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .nav {
      background: #f8f9fa;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 5px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .nav a {
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="nav">
    <a href="../index.html">首页</a>
    <a href="../USAGE.html">使用指南</a>
    <a href="../API.html">API文档</a>
    <a href="../EXAMPLES.html">示例</a>
    <a href="../DEVELOPMENT.html">开发指南</a>
  </div>
  
  <div class="content">
<h1>TaroViz API文档</h1>
<h2>核心组件</h2>
<h3>LineChart</h3>
<p>折线图组件，用于展示数据趋势。</p>
<pre><code class="language-jsx">import { LineChart } from &#39;@agions/taroviz&#39;;

&lt;LineChart 
  data={chartData} 
  config={chartConfig} 
/&gt;
</code></pre>
<p><strong>属性：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>object</td>
<td>图表数据</td>
<td>是</td>
</tr>
<tr>
<td>config</td>
<td>object</td>
<td>图表配置</td>
<td>否</td>
</tr>
</tbody></table>
<h3>BarChart</h3>
<p>柱状图组件，用于比较不同类别的数据。</p>
<pre><code class="language-jsx">import { BarChart } from &#39;@agions/taroviz&#39;;

&lt;BarChart 
  data={chartData} 
  config={chartConfig} 
/&gt;
</code></pre>
<p><strong>属性：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>object</td>
<td>图表数据</td>
<td>是</td>
</tr>
<tr>
<td>config</td>
<td>object</td>
<td>图表配置</td>
<td>否</td>
</tr>
</tbody></table>
<h3>PieChart</h3>
<p>饼图组件，用于展示部分与整体的关系。</p>
<pre><code class="language-jsx">import { PieChart } from &#39;@agions/taroviz&#39;;

&lt;PieChart 
  data={chartData} 
  config={chartConfig} 
/&gt;
</code></pre>
<p><strong>属性：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>object</td>
<td>图表数据</td>
<td>是</td>
</tr>
<tr>
<td>config</td>
<td>object</td>
<td>图表配置</td>
<td>否</td>
</tr>
</tbody></table>
<h3>ScatterChart</h3>
<p>散点图组件，用于展示数据分布。</p>
<pre><code class="language-jsx">import { ScatterChart } from &#39;@agions/taroviz&#39;;

&lt;ScatterChart 
  data={chartData} 
  config={chartConfig} 
/&gt;
</code></pre>
<p><strong>属性：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>object</td>
<td>图表数据</td>
<td>是</td>
</tr>
<tr>
<td>config</td>
<td>object</td>
<td>图表配置</td>
<td>否</td>
</tr>
</tbody></table>
<h3>RadarChart</h3>
<p>雷达图组件，用于多维度数据比较。</p>
<pre><code class="language-jsx">import { RadarChart } from &#39;@agions/taroviz&#39;;

&lt;RadarChart 
  data={chartData} 
  config={chartConfig} 
/&gt;
</code></pre>
<p><strong>属性：</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>object</td>
<td>图表数据</td>
<td>是</td>
</tr>
<tr>
<td>config</td>
<td>object</td>
<td>图表配置</td>
<td>否</td>
</tr>
</tbody></table>
<h2>数据格式</h2>
<h3>基本数据格式</h3>
<pre><code class="language-js">const chartData = {
  categories: string[],  // 类别数组
  series: [              // 数据系列数组
    {
      name: string,      // 系列名称
      data: number[]     // 数据点数组
    }
  ]
};
</code></pre>
<h3>饼图数据格式</h3>
<pre><code class="language-js">const pieData = {
  series: [
    {
      name: string,       // 系列名称
      data: [
        {
          name: string,   // 数据项名称
          value: number   // 数据项值
        }
      ]
    }
  ]
};
</code></pre>
<h2>配置选项</h2>
<h3>通用配置</h3>
<pre><code class="language-js">const chartConfig = {
  // 基本设置
  width: number | string,    // 图表宽度，默认&#39;100%&#39;
  height: number | string,   // 图表高度，默认300
  title: string,             // 图表标题
  subtitle: string,          // 图表副标题
  
  // 主题与样式
  theme: string | object,    // 主题名称或自定义主题
  backgroundColor: string,   // 背景颜色
  textStyle: object,         // 文本样式
  
  // 交互与动画
  animation: boolean,        // 是否启用动画，默认true
  animationDuration: number, // 动画持续时间
  loading: boolean,          // 是否显示加载状态
  
  // 组件显示
  legend: object | boolean,  // 图例配置或是否显示
  tooltip: object | boolean, // 提示框配置或是否显示
  grid: object,              // 网格配置
  
  // 坐标轴
  xAxis: object,             // X轴配置
  yAxis: object,             // Y轴配置
  
  // 数据区域
  dataZoom: object[],        // 数据区域缩放组件
  visualMap: object,         // 视觉映射组件
  
  // 事件处理
  onEvents: {                // 事件回调函数
    click: Function,
    legendselectchanged: Function,
    // ...其他事件
  }
};
</code></pre>
<h2>Hooks</h2>
<h3>useChart</h3>
<p>用于获取和操作图表实例的Hook。</p>
<pre><code class="language-jsx">import { useChart } from &#39;@agions/taroviz-hooks&#39;;

function MyChart() {
  const { chartRef, getInstance } = useChart();
  
  const handleClick = () =&gt; {
    const instance = getInstance();
    if (instance) {
      // 操作图表实例
      instance.setOption({...});
    }
  };
  
  return (
    &lt;&gt;
      &lt;LineChart data={data} chartRef={chartRef} /&gt;
      &lt;Button onClick={handleClick}&gt;更新图表&lt;/Button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<h3>useWindowSize</h3>
<p>用于获取当前窗口尺寸的Hook。</p>
<pre><code class="language-jsx">import { useWindowSize } from &#39;@agions/taroviz-hooks&#39;;

function ResponsiveChart() {
  const { width, height } = useWindowSize();
  
  return (
    &lt;LineChart 
      data={data} 
      config={{ width, height: height * 0.5 }} 
    /&gt;
  );
}
</code></pre>
<h2>主题系统</h2>
<h3>使用预设主题</h3>
<pre><code class="language-jsx">import { LineChart } from &#39;@agions/taroviz&#39;;
import { THEME_DARK, THEME_LIGHT } from &#39;@agions/taroviz-themes&#39;;

&lt;LineChart 
  data={data} 
  config={{ theme: THEME_DARK }} 
/&gt;
</code></pre>
<h3>自定义主题</h3>
<pre><code class="language-jsx">import { LineChart } from &#39;@agions/taroviz&#39;;

const customTheme = {
  color: [&#39;#ff7f50&#39;, &#39;#87cefa&#39;, &#39;#da70d6&#39;, &#39;#32cd32&#39;, &#39;#6495ed&#39;],
  backgroundColor: &#39;#ffffff&#39;,
  textStyle: {},
  title: {
    textStyle: {
      color: &#39;#333333&#39;
    },
    subtextStyle: {
      color: &#39;#aaaaaa&#39;
    }
  },
  line: {
    itemStyle: {
      borderWidth: 2
    },
    symbolSize: 4,
    symbol: &#39;circle&#39;,
    smooth: false
  },
  // ...其他配置
};

&lt;LineChart 
  data={data} 
  config={{ theme: customTheme }} 
/&gt;
</code></pre>
<h2>平台适配器</h2>
<h3>获取当前平台信息</h3>
<pre><code class="language-jsx">import { getPlatform } from &#39;@agions/taroviz-adapters&#39;;

const platform = getPlatform();
console.log(platform.name); // &#39;weapp&#39;, &#39;alipay&#39;, &#39;h5&#39;, ...
console.log(platform.canUseCanvas); // true/false
</code></pre>
<h3>根据平台调整配置</h3>
<pre><code class="language-jsx">import { getPlatform } from &#39;@agions/taroviz-adapters&#39;;
import { LineChart } from &#39;@agions/taroviz&#39;;

function PlatformAwareChart() {
  const platform = getPlatform();
  
  const chartConfig = {
    renderer: platform.name === &#39;alipay&#39; ? &#39;canvas&#39; : &#39;svg&#39;,
    // 其他配置...
  };
  
  return &lt;LineChart data={data} config={chartConfig} /&gt;;
}
</code></pre>

  </div>
</body>
</html>
    